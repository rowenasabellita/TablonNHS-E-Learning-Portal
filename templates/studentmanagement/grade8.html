{% extends 'sidebar.html' %} {% load static %} {% load crispy_forms_tags %}
{%block main_content %}

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
      </div>
      <div class="modal-body">...</div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary modal_close"
          data-dismiss="modal"
        >
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="main_content_profile">
  <div class="main_content_profile">
    <div data-tab-content class="active info" id="profile">
      <div class="row">
        <div class="input-group rounded">
          <input
            type="search"
            class="form-control rounded"
            placeholder="Search"
            aria-label="Search"
            aria-describedby="search-addon"
          />
          <span class="input-group-text border-0" id="search-addon">
            <i class="bx bx-search-alt-2"></i>
          </span>
        </div>

        <hr />
        <div class="table_container">
          <table class="table">
            <thead class="thead-dark">
              <tr align="center">
                <th scope="col">Action</th>
                <th scope="col">Student Number</th>
                <th scope="col">Name</th>
                <th scope="col">Section</th>
                <th scope="col">Gender</th>
                <th scope="col">Age</th>
              </tr>
            </thead>
            <tbody align="center">
              {% for i in data %}
              <tr>
                <td>
                  <button
                    type="button"
                    class="btn btn-primary btn-sm edit_btn"
                    data-target="#exampleModal"
                  >
                    Edit
                  </button>
                </td>
                <td>{{ i.username }}</td>
                <td>{{ i.full_name }}</td>
                <td>{{ i.section }}</td>
                <td>{{ i.gender }}</td>
                <td>{{ i.age }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    $("button.edit_btn").on("click", function () {
      $("#exampleModal").appendTo("body").modal("show");
    });

    $("button.modal_close").on("click", function () {
      $("#exampleModal").modal("hide");
    });
  });
</script>

{% endblock %}
